import matplotlib.pyplot as plt

granularity = []
for i in range(32):
    granularity.append(i+1)

fc7_shared = [0.002570, 0.002819, 0.002411, 0.002522, 0.002364, 0.002511, 0.002766, 0.002758, 0.002474, 0.002761, 0.002546, 0.002454, 0.002418, 0.002548, 0.002832, 0.002757, 0.002382, 0.002788, 0.002764, 0.002438, 0.002588, 0.002422, 0.002820, 0.003770, 0.002365, 0.002833, 0.002496, 0.002697, 0.002454, 0.002555, 0.002783, 0.002516]
fc7_glob = [4.095761, 4.004608, 4.765674, 4.150925, 4.495909, 4.039141, 4.307635, 6.496502, 7.127518, 7.400502, 7.800962, 7.782867, 7.223042, 7.624020, 8.158671, 7.532784, 8.086372, 8.013883, 8.330605, 8.707925, 9.165504, 9.503755, 9.724930, 9.868865, 10.566474, 10.466240, 10.959700, 10.935307, 11.342453, 11.885903, 12.218447, 12.508182]
fc8_shared = [1.378813, 1.670947, 2.037572, 1.699083, 1.962806, 1.797323, 1.782158, 2.806034, 3.124196, 3.310553, 3.483575, 3.631184, 3.099770, 2.925858, 2.989097, 2.677573, 3.087334, 3.011809, 3.183719, 3.151471, 3.281648, 3.361062, 3.252799, 3.485494, 3.421463, 3.473917, 3.521602, 3.475878, 3.626427, 3.750111, 3.610566, 3.622682]
fc8_glob = [1.442567, 1.688243, 2.027744, 1.678267, 1.924573, 1.757376, 1.859423, 2.788957, 3.093413, 3.275026, 3.435190, 3.394359, 3.221120, 3.389309, 3.624148, 3.201524, 3.561416, 3.568652, 3.733562, 3.855465, 4.034937, 4.105922, 4.274041, 4.420756, 4.464972, 4.701790, 4.816335, 4.919153, 4.975233, 5.319334, 5.171389, 5.232557]
fc9_shared = [0.186604, 0.190959, 0.199038, 0.267721, 0.319124, 0.397306, 0.392947, 0.518788, 0.473633, 0.555122, 0.547606, 0.642699, 0.620394, 0.694634, 0.697046, 0.777242, 0.780107, 0.842845, 0.867868, 0.920939, 0.950905, 1.001825, 1.034735, 1.088078, 1.123582, 1.175915, 1.212885, 1.257038, 1.302561, 1.349540, 1.386538, 1.443226]
fc9_glob = [0.212720, 0.221362, 0.244340, 0.330681, 0.395620, 0.490327, 0.521429, 0.636912, 0.618766, 0.710131, 0.722831, 0.826623, 0.822750, 0.898101, 0.933479, 1.003297, 1.052992, 1.119893, 1.165750, 1.228553, 1.283405, 1.344979, 1.388980, 1.465308, 1.507177, 1.578350, 1.604282, 1.701806, 1.697214, 1.808641, 1.826169, 1.917068]


plt.title('conv_2 layer perfomance for different version across granularities')
plt.ylabel('execution time in ms')
plt.xlabel('granularity')

for (fc_shared,fc_glob) in [(fc7_shared,fc7_glob),(fc8_shared,fc8_glob),(fc9_shared,fc9_glob)]:
	plt.plot(granularity,fc_shared,color='r',label='Input and bias shared mem fetch')
	plt.plot(granularity,fc_glob,color='b',label='Input and bias global mem fetch')
	plt.legend(loc='upper left')
	plt.show()
